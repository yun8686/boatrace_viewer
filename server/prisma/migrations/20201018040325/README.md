# Migration `20201018040325`

This migration has been generated by Ryoga Komine at 10/18/2020, 1:03:25 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
CREATE TABLE `barance01_order` (
`id` int  NOT NULL  AUTO_INCREMENT,
`racedate` datetime(3)  NOT NULL ,
`jyoCode` varchar(191)  NOT NULL ,
`raceNo` varchar(191)  NOT NULL ,
`kumiban` varchar(191)  NOT NULL ,
`price` int  ,
`isbuy` boolean  DEFAULT false,
`buystatus` varchar(191)  ,
`wallet_id` int  ,
INDEX `racedate`(`racedate`,
`jyoCode`,
`raceNo`),
PRIMARY KEY (`id`)
) DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci

CREATE TABLE `barance01_tweetlist` (
`id` int  NOT NULL  AUTO_INCREMENT,
`tweetid` varchar(191)  NOT NULL ,
`racedate` datetime(3)  NOT NULL ,
`jyoCode` varchar(191)  NOT NULL ,
`raceNo` varchar(191)  NOT NULL ,
`kumiban` varchar(191)  NOT NULL ,
`price` int  ,
`isreplied` boolean  DEFAULT false,
INDEX `racedate`(`racedate`,
`jyoCode`,
`raceNo`),
INDEX `tweetid`(`tweetid`),
PRIMARY KEY (`id`)
) DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci

CREATE TABLE `barance01_wallet` (
`id` int  NOT NULL  AUTO_INCREMENT,
`paysum` int  ,
`payout` int  DEFAULT 0,
`recovery_rate` decimal(65,30)  DEFAULT 0,
`block` boolean  DEFAULT false,
`used` boolean  DEFAULT false,
INDEX `recovery_rate`(`recovery_rate`),
PRIMARY KEY (`id`)
) DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci

CREATE TABLE `beforeinfo` (
`racedate` datetime(3)  NOT NULL ,
`jyoCode` varchar(191)  NOT NULL ,
`raceNo` varchar(191)  NOT NULL ,
`wind` decimal(65,30)  ,
`windtext` varchar(191)  ,
`weather` varchar(191)  ,
PRIMARY KEY (`racedate`,`jyoCode`,`raceNo`)
) DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci

CREATE TABLE `buydata` (
`id` int  NOT NULL  AUTO_INCREMENT,
`racedate` datetime(3)  NOT NULL ,
`jyoCode` varchar(191)  NOT NULL ,
`raceNo` varchar(191)  NOT NULL ,
`kumiban` varchar(191)  NOT NULL ,
`price` int  ,
`isbuy` boolean  DEFAULT false,
`buystatus` varchar(191)  ,
INDEX `racedate`(`racedate`,
`jyoCode`,
`raceNo`),
PRIMARY KEY (`id`)
) DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci

CREATE TABLE `jyomst` (
`code` varchar(191)  NOT NULL ,
`name` varchar(191)  NOT NULL ,
PRIMARY KEY (`code`)
) DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci

CREATE TABLE `racedata` (
`racedate` datetime(3)  NOT NULL ,
`jyoCode` varchar(191)  NOT NULL ,
`raceNo` varchar(191)  NOT NULL ,
PRIMARY KEY (`racedate`,`jyoCode`,`raceNo`)
) DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci

CREATE TABLE `raceinfo` (
`racedate` datetime(3)  NOT NULL ,
`jyoCode` varchar(191)  NOT NULL ,
`raceNo` varchar(191)  NOT NULL ,
`time` int  NOT NULL ,
`daynum` int  ,
PRIMARY KEY (`racedate`,`jyoCode`,`raceNo`)
) DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci

CREATE TABLE `raceresult` (
`racedate` datetime(3)  NOT NULL ,
`jyoCode` varchar(191)  NOT NULL ,
`raceNo` varchar(191)  NOT NULL ,
`santankumiban` varchar(191)  NOT NULL ,
`santanodds` decimal(65,30)  ,
PRIMARY KEY (`racedate`,`jyoCode`,`raceNo`)
) DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci

CREATE TABLE `rentan2` (
`racedate` datetime(3)  NOT NULL ,
`jyoCode` varchar(191)  NOT NULL ,
`raceNo` varchar(191)  NOT NULL ,
`rank` int  NOT NULL ,
`kumiban` varchar(191)  NOT NULL ,
`odds` decimal(65,30)  NOT NULL ,
PRIMARY KEY (`racedate`,`jyoCode`,`raceNo`,`rank`)
) DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci

CREATE TABLE `rentan3` (
`racedate` datetime(3)  NOT NULL ,
`jyoCode` varchar(191)  NOT NULL ,
`raceNo` varchar(191)  NOT NULL ,
`rank` int  NOT NULL ,
`kumiban` varchar(191)  NOT NULL ,
`odds` decimal(65,30)  NOT NULL ,
PRIMARY KEY (`racedate`,`jyoCode`,`raceNo`,`rank`)
) DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration ..20201018040325
--- datamodel.dml
+++ datamodel.dml
@@ -1,0 +1,126 @@
+generator client {
+  provider = "prisma-client-js"
+}
+
+datasource db {
+  provider = "mysql"
+  url = "***"
+}
+
+model barance01_order {
+  id        Int      @id @default(autoincrement())
+  racedate  DateTime
+  jyoCode   String
+  raceNo    String
+  kumiban   String
+  price     Int?
+  isbuy     Boolean? @default(false)
+  buystatus String?
+  wallet_id Int?
+
+  @@index([racedate, jyoCode, raceNo], name: "racedate")
+}
+
+model barance01_tweetlist {
+  id        Int      @id @default(autoincrement())
+  tweetid   String
+  racedate  DateTime
+  jyoCode   String
+  raceNo    String
+  kumiban   String
+  price     Int?
+  isreplied Boolean? @default(false)
+
+  @@index([racedate, jyoCode, raceNo], name: "racedate")
+  @@index([tweetid], name: "tweetid")
+}
+
+model barance01_wallet {
+  id            Int      @id @default(autoincrement())
+  paysum        Int?
+  payout        Int?     @default(0)
+  recovery_rate Float?   @default(0)
+  block         Boolean? @default(false)
+  used          Boolean? @default(false)
+
+  @@index([recovery_rate], name: "recovery_rate")
+}
+
+model beforeinfo {
+  racedate DateTime
+  jyoCode  String
+  raceNo   String
+  wind     Float?
+  windtext String?
+  weather  String?
+
+  @@id([racedate, jyoCode, raceNo])
+}
+
+model buydata {
+  id        Int      @id @default(autoincrement())
+  racedate  DateTime
+  jyoCode   String
+  raceNo    String
+  kumiban   String
+  price     Int?
+  isbuy     Boolean? @default(false)
+  buystatus String?
+
+  @@index([racedate, jyoCode, raceNo], name: "racedate")
+}
+
+model jyomst {
+  code String @id
+  name String
+}
+
+model racedata {
+  racedate DateTime
+  jyoCode  String
+  raceNo   String
+
+  @@id([racedate, jyoCode, raceNo])
+}
+
+model raceinfo {
+  racedate DateTime
+  jyoCode  String
+  raceNo   String
+  time     Int
+  daynum   Int?
+
+  @@id([racedate, jyoCode, raceNo])
+}
+
+model raceresult {
+  racedate      DateTime
+  jyoCode       String
+  raceNo        String
+  santankumiban String
+  santanodds    Float?
+
+  @@id([racedate, jyoCode, raceNo])
+}
+
+model rentan2 {
+  racedate DateTime
+  jyoCode  String
+  raceNo   String
+  rank     Int
+  kumiban  String
+  odds     Float
+
+  @@id([racedate, jyoCode, raceNo, rank])
+}
+
+model rentan3 {
+  racedate DateTime
+  jyoCode  String
+  raceNo   String
+  rank     Int
+  kumiban  String
+  odds     Float
+
+  @@id([racedate, jyoCode, raceNo, rank])
+}
```


